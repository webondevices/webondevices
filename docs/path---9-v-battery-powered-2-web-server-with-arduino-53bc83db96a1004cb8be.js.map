{"version":3,"sources":["webpack:///path---9-v-battery-powered-2-web-server-with-arduino-53bc83db96a1004cb8be.js","webpack:///./.cache/json/9-v-battery-powered-2-web-server-with-arduino.json"],"names":["webpackJsonp","413","module","exports","data","markdownRemark","html","timeToRead","excerpt","frontmatter","title","cover","date","category","tags","fields","slug","pathContext"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,gBAAkBC,KAAA,ww6BAAqy5BC,WAAA,EAAAC,QAAA,+IAAAC,aAAyuDC,MAAA,iDAAAC,MAAA,6CAAAC,KAAA,aAAAC,SAAA,OAAAC,MAAA,YAAuKC,QAAWC,KAAA,oDAA0DC,aAAgBD,KAAA","file":"path---9-v-battery-powered-2-web-server-with-arduino-53bc83db96a1004cb8be.js","sourcesContent":["webpackJsonp([168878461398551],{\n\n/***/ 413:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<p><strong>Iâ€™ve been playing around with the ESP8266 Wi-Fi module for a while and has been fascinated by its versatility, the built in microcontroller and wireless antenna to be specific. The brain of these dev boards and modules is the 5mm ESP8266 chip. The price of the chip is a few dollar cents and dev boards start from $1. The chip has gone through a few generations and has now become reliable but luckily the price has stayed low.</strong></p>\\n<h3 id=\\\"esp8266\\\"><a href=\\\"#esp8266\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>ESP8266</h3>\\n<p>I originally had an ESP8266 module with only 8 pins and it looked like this and <strong>cost $2</strong>. It is only 14mm x 25mm and has wi-fi and a microcontroller onboard:</p>\\n<p><img src=\\\"http://www.webondevices.com/posts/IMG_20151105_134336.jpg\\\" alt=\\\"esp8266-closeup\\\"></p>\\n<p>This was not too reliable and only exposed GPIO (general purpose input and output) pins from the chip. I also had problems programming it from OS X possibly because of my FTDI converter. Unfortunately this module didnâ€™t have a USB connector and an onboard voltage regulator.</p>\\n<h3 id=\\\"nodemcu\\\"><a href=\\\"#nodemcu\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>NodeMCU</h3>\\n<p>Last month I came across and ordered from the brand new <strong>NodeMCU 1.0 development boards</strong> which is, again, based on the ESP8266 chip. This time itâ€™s the latest 12-E generation:</p>\\n<p><img src=\\\"http://www.webondevices.com/posts/113990105-1.jpg\\\" alt=\\\"nodemcu-closeup\\\"></p>\\n<p>This module has everything I wanted: wi-fi, microcontroller, voltage regulator and a micro USB connector for easy code uploads. This costs $4.50 but once you prototyped your project and ready to package it up you can just buy the brain, the 12-E module for 2$. Thatâ€™s the little rectangle with the metal heat sink.</p>\\n<p>The onboard processor is 32 bit with SDIO, SPI, UART and 16 GPIO pins and it has a lot more power than an Arduino. The ESP8266:</p>\\n<ul>\\n<li>is running at <strong>80 MHz</strong></li>\\n<li>has <strong>32 KBytes</strong> of instruction RAM</li>\\n<li>has <strong>96 KBytes</strong> of data RAM</li>\\n<li>has <strong>64 KBytes</strong> boot ROM</li>\\n</ul>\\n<p>Pretty powerful properties for a microcontroller. Compare this to the Arduino UNOs 16Mhz clock speed.</p>\\n<p>You might say at this point that the clear benefit of the Arduino UNO is that it can be programmed with the Arduino language from the Arduino IDE. The good news is that <strong>the Arduino IDE has been made compatible with the ESP8266 chip</strong> so you can upload your regular Arduino code onto the board.</p>\\n<h3 id=\\\"uploading-sketches-from-the-arduino-ide\\\"><a href=\\\"#uploading-sketches-from-the-arduino-ide\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Uploading sketches from the Arduino IDE</h3>\\n<p>Before programming the board you need to install it from the Arduino Additional Board Manager. Here are the steps to follow:</p>\\n<ul>\\n<li>\\n<p><strong>Install Arduino</strong> from the <a href=\\\"https://www.arduino.cc/en/main/software\\\">Arduino website</a></p>\\n</li>\\n<li>\\n<p><strong>Start Arduino</strong> and <strong>open Preferences</strong> window</p>\\n</li>\\n<li>\\n<p>Enter <a href=\\\"http://arduino.esp8266.com/stable/package_esp8266com_index.json\\\">http://arduino.esp8266.com/stable/package<em>esp8266com</em>index.json</a> into Additional Board Manager URLs field. You can add multiple URLs, separating them with commas</p>\\n</li>\\n<li>\\n<p>Open Boards Manager from Tools > Board menu and <strong>install esp8266 platform</strong> (and donâ€™t forget to select your ESP8266 board from Tools > Board menu after installation)</p>\\n</li>\\n</ul>\\n<p>These steps were been taken from the original ESP8266 Arduino project github repository: <a href=\\\"https://github.com/esp8266/arduino\\\">https://github.com/esp8266/arduino</a></p>\\n<p>Once these steps are successfully completed you need to make sure that the chip on the board responsible for the USB serial communication is <strong>compatible with your computer</strong>. On my NodeMCU board it was a chip labelled as CP2102. For that I had to install the driver from a Chinese website:</p>\\n<p><a href=\\\"http://www.wch.cn/download/CH341SER_MAC_ZIP.html\\\">http://www.wch.cn/download/CH341SER<em>MAC</em>ZIP.html</a></p>\\n<p>This did the job and after installation the board appeared in my Arduino IDE on OS X Yosemite. I used the below settings in the Arduino IDE:</p>\\n<p><img src=\\\"http://www.webondevices.com/posts/arduio-menu-esp8266.jpg\\\" alt=\\\"nodemcu-arduino-ide\\\">\\nNow is the best time to run an LED blink test. The only thing you need to be aware is the the pin labels on the NodeMCU donâ€™t correspond to the numbers in your Arduino sketch. Here are the numbers you need to use instead:</p>\\n<ul>\\n<li>pin 0 = D3</li>\\n<li>pin 1 = TX</li>\\n<li>pin 2 = D4</li>\\n<li>pin 3 = RX</li>\\n<li>pin 4 = D2</li>\\n<li>pin 5 = D1</li>\\n<li>pin 9 = SD2</li>\\n<li>pin 10 = SD3</li>\\n<li>pin 12 = D6</li>\\n<li>pin 13 = D7</li>\\n<li>pin 14 = D5</li>\\n<li>pin 15 = D8</li>\\n<li>pin 16 = D0</li>\\n</ul>\\n<p>If you wish to switch an LED on connected to D4 then your Arduino sketch will be:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-c\\\"><code><span class=\\\"token function\\\">pinMode</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">,</span> OUTPUT<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token function\\\">digitalWrite</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">,</span> HIGH<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<h3 id=\\\"a-9v-battery-powered-2-web-server\\\"><a href=\\\"#a-9v-battery-powered-2-web-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>A 9V battery powered $2 Web Server</h3>\\n<p>The cool thing about the ESP8266 chip is that once itâ€™s connected to your Wi-Fi modem you can <strong>connect to its IP address</strong>. You can also <strong>setup an HTTP server</strong> on the board which means that you can send <strong>HTML responds</strong> back if the IP address is entered into a browser from a device connected to the same Wi-Fi network.</p>\\n<p>Letâ€™s build this web server and switch on an LED. First connect an LED to pin D2, then add this sketch to the Arduino IDE. I added a few comments to help you understand whatâ€™s happening in the background:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-c\\\"><code><span class=\\\"token comment\\\">// Load libraries</span>\\n<span class=\\\"token macro property\\\">#<span class=\\\"token directive keyword\\\">include</span> <span class=\\\"token string\\\">&lt;ESP8266WiFi.h></span></span>\\n<span class=\\\"token macro property\\\">#<span class=\\\"token directive keyword\\\">include</span> <span class=\\\"token string\\\">&lt;WiFiClient.h></span></span>\\n<span class=\\\"token macro property\\\">#<span class=\\\"token directive keyword\\\">include</span> <span class=\\\"token string\\\">&lt;ESP8266WebServer.h></span></span>\\n<span class=\\\"token macro property\\\">#<span class=\\\"token directive keyword\\\">include</span> <span class=\\\"token string\\\">&lt;ESP8266mDNS.h></span></span>\\n\\n<span class=\\\"token comment\\\">// Your wifi details</span>\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token keyword\\\">char</span><span class=\\\"token operator\\\">*</span> ssid <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"nameofyourwifi\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token keyword\\\">char</span><span class=\\\"token operator\\\">*</span> password <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"passwordofyourwifi\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// Start server</span>\\nESP8266WebServer <span class=\\\"token function\\\">server</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">80</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token keyword\\\">int</span> led <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">4</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// Function that returns our HTML document as a character chain</span>\\n<span class=\\\"token comment\\\">// Notice how our buttons navigate to /on and to /off in the browser</span>\\n<span class=\\\"token keyword\\\">char</span><span class=\\\"token operator\\\">*</span> <span class=\\\"token function\\\">returnHTML</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">char</span> temp<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">400</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">int</span> sec <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">millis</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">1000</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">int</span> min <span class=\\\"token operator\\\">=</span> sec <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">60</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">int</span> hr <span class=\\\"token operator\\\">=</span> min <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">60</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    snprintf <span class=\\\"token punctuation\\\">(</span> temp<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">400</span><span class=\\\"token punctuation\\\">,</span>\\n\\n<span class=\\\"token string\\\">\\\"&lt;html>\\\\\\n  &lt;head>\\\\\\n    &lt;title>ESP8266 Demo&lt;/title>\\\\\\n    &lt;style>\\\\\\n      body { background-color: #cccccc; font-family: Arial, Helvetica, Sans-Serif; Color: #000088; }\\\\\\n    &lt;/style>\\\\\\n  &lt;/head>\\\\\\n  &lt;body>\\\\\\n    &lt;h1>Hello from ESP8266!&lt;/h1>\\\\\\n    &lt;a href=\\\\\\\"\\\\/on\\\\\\\">ON&lt;/a>\\\\\\n    &lt;a href=\\\\\\\"\\\\/off\\\\\\\">OFF&lt;/a>\\\\\\n  &lt;/body>\\\\\\n&lt;/html>\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n\\n    hr<span class=\\\"token punctuation\\\">,</span> min <span class=\\\"token operator\\\">%</span> <span class=\\\"token number\\\">60</span><span class=\\\"token punctuation\\\">,</span> sec <span class=\\\"token operator\\\">%</span> <span class=\\\"token number\\\">60</span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">return</span> temp<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">handleRoot</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"root\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    server<span class=\\\"token punctuation\\\">.</span>send <span class=\\\"token punctuation\\\">(</span> <span class=\\\"token number\\\">200</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"text/html\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token function\\\">returnHTML</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">ledOn</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"ON\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token function\\\">digitalWrite</span><span class=\\\"token punctuation\\\">(</span>led<span class=\\\"token punctuation\\\">,</span> HIGH<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    server<span class=\\\"token punctuation\\\">.</span>send <span class=\\\"token punctuation\\\">(</span> <span class=\\\"token number\\\">200</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"text/html\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token function\\\">returnHTML</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">ledOff</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"OFF\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token function\\\">digitalWrite</span><span class=\\\"token punctuation\\\">(</span>led<span class=\\\"token punctuation\\\">,</span> LOW<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    server<span class=\\\"token punctuation\\\">.</span>send <span class=\\\"token punctuation\\\">(</span> <span class=\\\"token number\\\">200</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"text/html\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token function\\\">returnHTML</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">handleNotFound</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    String message <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"File Not Found\\\\n\\\\n\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"URI: \\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">uri</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"\\\\nMethod: \\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">method</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">==</span> HTTP_GET<span class=\\\"token punctuation\\\">)</span><span class=\\\"token operator\\\">?</span><span class=\\\"token string\\\">\\\"GET\\\"</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token string\\\">\\\"POST\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"\\\\nArguments: \\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">args</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"\\\\n\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span>uint8_t i<span class=\\\"token operator\\\">=</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">;</span> i<span class=\\\"token operator\\\">&lt;</span>server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">args</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span> i<span class=\\\"token operator\\\">++</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n        message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\" \\\"</span> <span class=\\\"token operator\\\">+</span> server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">argName</span><span class=\\\"token punctuation\\\">(</span>i<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">\\\": \\\"</span> <span class=\\\"token operator\\\">+</span> server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">arg</span><span class=\\\"token punctuation\\\">(</span>i<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">\\\"\\\\n\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">send</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">404</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"text/plain\\\"</span><span class=\\\"token punctuation\\\">,</span> message<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">setup</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">void</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// Setup LED</span>\\n    <span class=\\\"token function\\\">pinMode</span><span class=\\\"token punctuation\\\">(</span>led<span class=\\\"token punctuation\\\">,</span> OUTPUT<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token function\\\">digitalWrite</span><span class=\\\"token punctuation\\\">(</span>led<span class=\\\"token punctuation\\\">,</span> LOW<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">begin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">115200</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token comment\\\">// Connect to Wi-Fi</span>\\n    WiFi<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">begin</span><span class=\\\"token punctuation\\\">(</span>ssid<span class=\\\"token punctuation\\\">,</span> password<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token comment\\\">// Wait for connection</span>\\n    <span class=\\\"token keyword\\\">while</span> <span class=\\\"token punctuation\\\">(</span>WiFi<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">status</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">!=</span> WL_CONNECTED<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token function\\\">delay</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">500</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">print</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\".\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">print</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Connected to \\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span>ssid<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">print</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"IP address: \\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span>WiFi<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">localIP</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>MDNS<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">begin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"esp8266\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"MDNS responder started\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token comment\\\">// Call handleRoot function when browser hits the root URL</span>\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">on</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"/\\\"</span><span class=\\\"token punctuation\\\">,</span> handleRoot<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token comment\\\">// Call ledOn function when browser hits the /on URL</span>\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">on</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"/on\\\"</span><span class=\\\"token punctuation\\\">,</span> ledOn<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token comment\\\">// Call ledOff function when browser hits the /off URL</span>\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">on</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"/off\\\"</span><span class=\\\"token punctuation\\\">,</span> ledOff<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">onNotFound</span><span class=\\\"token punctuation\\\">(</span>handleNotFound<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">begin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"HTTP server started\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">loop</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">void</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// Handle incoming connections</span>\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">handleClient</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>Modify your wifi details and upload the code to the board. For me it normally takes 2 â€“ 5 attempts before the actual upload process starts and Iâ€™m not entirely sure whyâ€¦</p>\\n<p>The server code is uploaded onto your board so you no longer need to be connected to your computer through the USB. Unplug it and try powering it from an external power source (minimum 6 maximum 15 volts). I connected the positive pole of a 9V battery to the VIN pin and the negative to GND. <strong>The board will power up and connect to your Wi-Fi in a few seconds</strong> then by navigating to the IP address of the board you will see the HTML page you added into the returnHTML function.</p>\\n<p><img src=\\\"http://www.webondevices.com/posts/esp-html.jpg\\\" alt=\\\"nodemcu arduino ide\\\"></p>\\n<p>Notice how in line 91 we output the IP address of the board to the Serial port:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-c\\\"><code>Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span>WiFi<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">localIP</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<p>If you open up the Serial Monitor of your Arduino IDE you will see the IP address. This is what you need to enter into the browser to access your ESP8266 mini server and to see the HTML page.</p>\\n<p><strong>Now as you click on the HTML buttons the LED will switch on and off connected to your server.</strong></p>\\n<h3 id=\\\"whats-next\\\"><a href=\\\"#whats-next\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Whatâ€™s next</h3>\\n<p>Now that this is setup the possibilities are endless. You can add sensors and make your server return a JSON. This will expose an API for your JavaScript application to access sensor readings from your house.</p>\\n<p>Alternatively you can add this $2 web server into a desk lamp. You just need to replace the LED with a 240V relay to switch the power supply instead. This means that <strong>your desk lamp is now a web server that can serve a responsive website to control itself</strong>. Your desk lamp is now part of the Internet of Things ðŸ™‚</p>\\n<p><img src=\\\"http://www.webondevices.com/posts/desklamp.gif\\\" alt=\\\"nodemcu arduino ide\\\"></p>\",\"timeToRead\":7,\"excerpt\":\"Iâ€™ve been playing around with the ESP8266 Wi-Fi module for a while and has been fascinated by its versatility, the built in microcontrollerâ€¦\",\"frontmatter\":{\"title\":\"9V battery powered, $2 Web Server with Arduino\",\"cover\":\"http://www.webondevices.com/posts/hero.jpg\",\"date\":\"05/11/2015\",\"category\":\"moar\",\"tags\":[\"arduino\"]},\"fields\":{\"slug\":\"/9-v-battery-powered-2-web-server-with-arduino\"}}},\"pathContext\":{\"slug\":\"/9-v-battery-powered-2-web-server-with-arduino\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---9-v-battery-powered-2-web-server-with-arduino-53bc83db96a1004cb8be.js","module.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<p><strong>Iâ€™ve been playing around with the ESP8266 Wi-Fi module for a while and has been fascinated by its versatility, the built in microcontroller and wireless antenna to be specific. The brain of these dev boards and modules is the 5mm ESP8266 chip. The price of the chip is a few dollar cents and dev boards start from $1. The chip has gone through a few generations and has now become reliable but luckily the price has stayed low.</strong></p>\\n<h3 id=\\\"esp8266\\\"><a href=\\\"#esp8266\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>ESP8266</h3>\\n<p>I originally had an ESP8266 module with only 8 pins and it looked like this and <strong>cost $2</strong>. It is only 14mm x 25mm and has wi-fi and a microcontroller onboard:</p>\\n<p><img src=\\\"http://www.webondevices.com/posts/IMG_20151105_134336.jpg\\\" alt=\\\"esp8266-closeup\\\"></p>\\n<p>This was not too reliable and only exposed GPIO (general purpose input and output) pins from the chip. I also had problems programming it from OS X possibly because of my FTDI converter. Unfortunately this module didnâ€™t have a USB connector and an onboard voltage regulator.</p>\\n<h3 id=\\\"nodemcu\\\"><a href=\\\"#nodemcu\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>NodeMCU</h3>\\n<p>Last month I came across and ordered from the brand new <strong>NodeMCU 1.0 development boards</strong> which is, again, based on the ESP8266 chip. This time itâ€™s the latest 12-E generation:</p>\\n<p><img src=\\\"http://www.webondevices.com/posts/113990105-1.jpg\\\" alt=\\\"nodemcu-closeup\\\"></p>\\n<p>This module has everything I wanted: wi-fi, microcontroller, voltage regulator and a micro USB connector for easy code uploads. This costs $4.50 but once you prototyped your project and ready to package it up you can just buy the brain, the 12-E module for 2$. Thatâ€™s the little rectangle with the metal heat sink.</p>\\n<p>The onboard processor is 32 bit with SDIO, SPI, UART and 16 GPIO pins and it has a lot more power than an Arduino. The ESP8266:</p>\\n<ul>\\n<li>is running at <strong>80 MHz</strong></li>\\n<li>has <strong>32 KBytes</strong> of instruction RAM</li>\\n<li>has <strong>96 KBytes</strong> of data RAM</li>\\n<li>has <strong>64 KBytes</strong> boot ROM</li>\\n</ul>\\n<p>Pretty powerful properties for a microcontroller. Compare this to the Arduino UNOs 16Mhz clock speed.</p>\\n<p>You might say at this point that the clear benefit of the Arduino UNO is that it can be programmed with the Arduino language from the Arduino IDE. The good news is that <strong>the Arduino IDE has been made compatible with the ESP8266 chip</strong> so you can upload your regular Arduino code onto the board.</p>\\n<h3 id=\\\"uploading-sketches-from-the-arduino-ide\\\"><a href=\\\"#uploading-sketches-from-the-arduino-ide\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Uploading sketches from the Arduino IDE</h3>\\n<p>Before programming the board you need to install it from the Arduino Additional Board Manager. Here are the steps to follow:</p>\\n<ul>\\n<li>\\n<p><strong>Install Arduino</strong> from the <a href=\\\"https://www.arduino.cc/en/main/software\\\">Arduino website</a></p>\\n</li>\\n<li>\\n<p><strong>Start Arduino</strong> and <strong>open Preferences</strong> window</p>\\n</li>\\n<li>\\n<p>Enter <a href=\\\"http://arduino.esp8266.com/stable/package_esp8266com_index.json\\\">http://arduino.esp8266.com/stable/package<em>esp8266com</em>index.json</a> into Additional Board Manager URLs field. You can add multiple URLs, separating them with commas</p>\\n</li>\\n<li>\\n<p>Open Boards Manager from Tools > Board menu and <strong>install esp8266 platform</strong> (and donâ€™t forget to select your ESP8266 board from Tools > Board menu after installation)</p>\\n</li>\\n</ul>\\n<p>These steps were been taken from the original ESP8266 Arduino project github repository: <a href=\\\"https://github.com/esp8266/arduino\\\">https://github.com/esp8266/arduino</a></p>\\n<p>Once these steps are successfully completed you need to make sure that the chip on the board responsible for the USB serial communication is <strong>compatible with your computer</strong>. On my NodeMCU board it was a chip labelled as CP2102. For that I had to install the driver from a Chinese website:</p>\\n<p><a href=\\\"http://www.wch.cn/download/CH341SER_MAC_ZIP.html\\\">http://www.wch.cn/download/CH341SER<em>MAC</em>ZIP.html</a></p>\\n<p>This did the job and after installation the board appeared in my Arduino IDE on OS X Yosemite. I used the below settings in the Arduino IDE:</p>\\n<p><img src=\\\"http://www.webondevices.com/posts/arduio-menu-esp8266.jpg\\\" alt=\\\"nodemcu-arduino-ide\\\">\\nNow is the best time to run an LED blink test. The only thing you need to be aware is the the pin labels on the NodeMCU donâ€™t correspond to the numbers in your Arduino sketch. Here are the numbers you need to use instead:</p>\\n<ul>\\n<li>pin 0 = D3</li>\\n<li>pin 1 = TX</li>\\n<li>pin 2 = D4</li>\\n<li>pin 3 = RX</li>\\n<li>pin 4 = D2</li>\\n<li>pin 5 = D1</li>\\n<li>pin 9 = SD2</li>\\n<li>pin 10 = SD3</li>\\n<li>pin 12 = D6</li>\\n<li>pin 13 = D7</li>\\n<li>pin 14 = D5</li>\\n<li>pin 15 = D8</li>\\n<li>pin 16 = D0</li>\\n</ul>\\n<p>If you wish to switch an LED on connected to D4 then your Arduino sketch will be:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-c\\\"><code><span class=\\\"token function\\\">pinMode</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">,</span> OUTPUT<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token function\\\">digitalWrite</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">,</span> HIGH<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<h3 id=\\\"a-9v-battery-powered-2-web-server\\\"><a href=\\\"#a-9v-battery-powered-2-web-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>A 9V battery powered $2 Web Server</h3>\\n<p>The cool thing about the ESP8266 chip is that once itâ€™s connected to your Wi-Fi modem you can <strong>connect to its IP address</strong>. You can also <strong>setup an HTTP server</strong> on the board which means that you can send <strong>HTML responds</strong> back if the IP address is entered into a browser from a device connected to the same Wi-Fi network.</p>\\n<p>Letâ€™s build this web server and switch on an LED. First connect an LED to pin D2, then add this sketch to the Arduino IDE. I added a few comments to help you understand whatâ€™s happening in the background:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-c\\\"><code><span class=\\\"token comment\\\">// Load libraries</span>\\n<span class=\\\"token macro property\\\">#<span class=\\\"token directive keyword\\\">include</span> <span class=\\\"token string\\\">&lt;ESP8266WiFi.h></span></span>\\n<span class=\\\"token macro property\\\">#<span class=\\\"token directive keyword\\\">include</span> <span class=\\\"token string\\\">&lt;WiFiClient.h></span></span>\\n<span class=\\\"token macro property\\\">#<span class=\\\"token directive keyword\\\">include</span> <span class=\\\"token string\\\">&lt;ESP8266WebServer.h></span></span>\\n<span class=\\\"token macro property\\\">#<span class=\\\"token directive keyword\\\">include</span> <span class=\\\"token string\\\">&lt;ESP8266mDNS.h></span></span>\\n\\n<span class=\\\"token comment\\\">// Your wifi details</span>\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token keyword\\\">char</span><span class=\\\"token operator\\\">*</span> ssid <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"nameofyourwifi\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token keyword\\\">char</span><span class=\\\"token operator\\\">*</span> password <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"passwordofyourwifi\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// Start server</span>\\nESP8266WebServer <span class=\\\"token function\\\">server</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">80</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token keyword\\\">int</span> led <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">4</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// Function that returns our HTML document as a character chain</span>\\n<span class=\\\"token comment\\\">// Notice how our buttons navigate to /on and to /off in the browser</span>\\n<span class=\\\"token keyword\\\">char</span><span class=\\\"token operator\\\">*</span> <span class=\\\"token function\\\">returnHTML</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">char</span> temp<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">400</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">int</span> sec <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">millis</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">1000</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">int</span> min <span class=\\\"token operator\\\">=</span> sec <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">60</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">int</span> hr <span class=\\\"token operator\\\">=</span> min <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">60</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    snprintf <span class=\\\"token punctuation\\\">(</span> temp<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">400</span><span class=\\\"token punctuation\\\">,</span>\\n\\n<span class=\\\"token string\\\">\\\"&lt;html>\\\\\\n  &lt;head>\\\\\\n    &lt;title>ESP8266 Demo&lt;/title>\\\\\\n    &lt;style>\\\\\\n      body { background-color: #cccccc; font-family: Arial, Helvetica, Sans-Serif; Color: #000088; }\\\\\\n    &lt;/style>\\\\\\n  &lt;/head>\\\\\\n  &lt;body>\\\\\\n    &lt;h1>Hello from ESP8266!&lt;/h1>\\\\\\n    &lt;a href=\\\\\\\"\\\\/on\\\\\\\">ON&lt;/a>\\\\\\n    &lt;a href=\\\\\\\"\\\\/off\\\\\\\">OFF&lt;/a>\\\\\\n  &lt;/body>\\\\\\n&lt;/html>\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n\\n    hr<span class=\\\"token punctuation\\\">,</span> min <span class=\\\"token operator\\\">%</span> <span class=\\\"token number\\\">60</span><span class=\\\"token punctuation\\\">,</span> sec <span class=\\\"token operator\\\">%</span> <span class=\\\"token number\\\">60</span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">return</span> temp<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">handleRoot</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"root\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    server<span class=\\\"token punctuation\\\">.</span>send <span class=\\\"token punctuation\\\">(</span> <span class=\\\"token number\\\">200</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"text/html\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token function\\\">returnHTML</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">ledOn</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"ON\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token function\\\">digitalWrite</span><span class=\\\"token punctuation\\\">(</span>led<span class=\\\"token punctuation\\\">,</span> HIGH<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    server<span class=\\\"token punctuation\\\">.</span>send <span class=\\\"token punctuation\\\">(</span> <span class=\\\"token number\\\">200</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"text/html\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token function\\\">returnHTML</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">ledOff</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"OFF\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token function\\\">digitalWrite</span><span class=\\\"token punctuation\\\">(</span>led<span class=\\\"token punctuation\\\">,</span> LOW<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    server<span class=\\\"token punctuation\\\">.</span>send <span class=\\\"token punctuation\\\">(</span> <span class=\\\"token number\\\">200</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"text/html\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token function\\\">returnHTML</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">handleNotFound</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    String message <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"File Not Found\\\\n\\\\n\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"URI: \\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">uri</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"\\\\nMethod: \\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">method</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">==</span> HTTP_GET<span class=\\\"token punctuation\\\">)</span><span class=\\\"token operator\\\">?</span><span class=\\\"token string\\\">\\\"GET\\\"</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token string\\\">\\\"POST\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"\\\\nArguments: \\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">args</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"\\\\n\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span>uint8_t i<span class=\\\"token operator\\\">=</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">;</span> i<span class=\\\"token operator\\\">&lt;</span>server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">args</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span> i<span class=\\\"token operator\\\">++</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n        message <span class=\\\"token operator\\\">+</span><span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\" \\\"</span> <span class=\\\"token operator\\\">+</span> server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">argName</span><span class=\\\"token punctuation\\\">(</span>i<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">\\\": \\\"</span> <span class=\\\"token operator\\\">+</span> server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">arg</span><span class=\\\"token punctuation\\\">(</span>i<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">\\\"\\\\n\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">send</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">404</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"text/plain\\\"</span><span class=\\\"token punctuation\\\">,</span> message<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">setup</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">void</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// Setup LED</span>\\n    <span class=\\\"token function\\\">pinMode</span><span class=\\\"token punctuation\\\">(</span>led<span class=\\\"token punctuation\\\">,</span> OUTPUT<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token function\\\">digitalWrite</span><span class=\\\"token punctuation\\\">(</span>led<span class=\\\"token punctuation\\\">,</span> LOW<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">begin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">115200</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token comment\\\">// Connect to Wi-Fi</span>\\n    WiFi<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">begin</span><span class=\\\"token punctuation\\\">(</span>ssid<span class=\\\"token punctuation\\\">,</span> password<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token comment\\\">// Wait for connection</span>\\n    <span class=\\\"token keyword\\\">while</span> <span class=\\\"token punctuation\\\">(</span>WiFi<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">status</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">!=</span> WL_CONNECTED<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token function\\\">delay</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">500</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">print</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\".\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">print</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Connected to \\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span>ssid<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">print</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"IP address: \\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span>WiFi<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">localIP</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>MDNS<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">begin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"esp8266\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"MDNS responder started\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token comment\\\">// Call handleRoot function when browser hits the root URL</span>\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">on</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"/\\\"</span><span class=\\\"token punctuation\\\">,</span> handleRoot<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token comment\\\">// Call ledOn function when browser hits the /on URL</span>\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">on</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"/on\\\"</span><span class=\\\"token punctuation\\\">,</span> ledOn<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token comment\\\">// Call ledOff function when browser hits the /off URL</span>\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">on</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"/off\\\"</span><span class=\\\"token punctuation\\\">,</span> ledOff<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">onNotFound</span><span class=\\\"token punctuation\\\">(</span>handleNotFound<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">begin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"HTTP server started\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">loop</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">void</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// Handle incoming connections</span>\\n    server<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">handleClient</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>Modify your wifi details and upload the code to the board. For me it normally takes 2 â€“ 5 attempts before the actual upload process starts and Iâ€™m not entirely sure whyâ€¦</p>\\n<p>The server code is uploaded onto your board so you no longer need to be connected to your computer through the USB. Unplug it and try powering it from an external power source (minimum 6 maximum 15 volts). I connected the positive pole of a 9V battery to the VIN pin and the negative to GND. <strong>The board will power up and connect to your Wi-Fi in a few seconds</strong> then by navigating to the IP address of the board you will see the HTML page you added into the returnHTML function.</p>\\n<p><img src=\\\"http://www.webondevices.com/posts/esp-html.jpg\\\" alt=\\\"nodemcu arduino ide\\\"></p>\\n<p>Notice how in line 91 we output the IP address of the board to the Serial port:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-c\\\"><code>Serial<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span>WiFi<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">localIP</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<p>If you open up the Serial Monitor of your Arduino IDE you will see the IP address. This is what you need to enter into the browser to access your ESP8266 mini server and to see the HTML page.</p>\\n<p><strong>Now as you click on the HTML buttons the LED will switch on and off connected to your server.</strong></p>\\n<h3 id=\\\"whats-next\\\"><a href=\\\"#whats-next\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Whatâ€™s next</h3>\\n<p>Now that this is setup the possibilities are endless. You can add sensors and make your server return a JSON. This will expose an API for your JavaScript application to access sensor readings from your house.</p>\\n<p>Alternatively you can add this $2 web server into a desk lamp. You just need to replace the LED with a 240V relay to switch the power supply instead. This means that <strong>your desk lamp is now a web server that can serve a responsive website to control itself</strong>. Your desk lamp is now part of the Internet of Things ðŸ™‚</p>\\n<p><img src=\\\"http://www.webondevices.com/posts/desklamp.gif\\\" alt=\\\"nodemcu arduino ide\\\"></p>\",\"timeToRead\":7,\"excerpt\":\"Iâ€™ve been playing around with the ESP8266 Wi-Fi module for a while and has been fascinated by its versatility, the built in microcontrollerâ€¦\",\"frontmatter\":{\"title\":\"9V battery powered, $2 Web Server with Arduino\",\"cover\":\"http://www.webondevices.com/posts/hero.jpg\",\"date\":\"05/11/2015\",\"category\":\"moar\",\"tags\":[\"arduino\"]},\"fields\":{\"slug\":\"/9-v-battery-powered-2-web-server-with-arduino\"}}},\"pathContext\":{\"slug\":\"/9-v-battery-powered-2-web-server-with-arduino\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/9-v-battery-powered-2-web-server-with-arduino.json\n// module id = 413\n// module chunks = 168878461398551"],"sourceRoot":""}